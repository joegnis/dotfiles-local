# Paging program to support color manpages. To install: `brew install most`
if command_exists most; then
    export PAGER="most"
fi

# MacPorts
if command_exists port; then
    export PATH="/opt/local/bin:/opt/local/sbin:$PATH"
fi

# golang
if command_exists go; then
    export PATH=$PATH:/usr/local/opt/go/libexec/bin
    export GOPATH=~/ProgramRepo/go-workspace
    export PATH=$PATH:$(go env GOPATH)/bin
fi

# Ruby
export PATH="/usr/local/opt/ruby/bin:$PATH"

# C/C++
export CC=clang
export CXX=clang++

# LLVM tools
if [[ -d /usr/local/Cellar/llvm ]]; then
    if [[ ! -L /usr/local/bin/clang-format ]]; then
        ln -s "$(brew --prefix llvm)/bin/clang-format" "/usr/local/bin/clang-format"
    fi

    if [[ ! -L /usr/local/bin/clang-tidy ]]; then
        ln -s "$(brew --prefix llvm)/bin/clang-tidy" "/usr/local/bin/clang-tidy"
    fi
fi

# OpenJDK from HomeBrew
if [[ -d /usr/local/Cellar/openjdk ]]; then
    export PATH="/usr/local/opt/openjdk/bin:$PATH"
    export JAVA_HOME="/usr/local/opt/openjdk"
fi

# Read Homebrew GitHub access token
if [ -f ~/.homebrew-token ]; then
    export HOMEBREW_GITHUB_API_TOKEN=$(<~/.homebrew-token)
fi

# opam (OCaml package manager)
if command_exists opam; then
    test -r ~/.opam/opam-init/init.zsh && . ~/.opam/opam-init/init.zsh \
        > /dev/null 2> /dev/null || true
fi

# youtube-dl
if command_exists youtube-dl; then
    alias youtube-dl-best='youtube-dl -f bestvideo+bestaudio'
fi

# vim: ft=sh
